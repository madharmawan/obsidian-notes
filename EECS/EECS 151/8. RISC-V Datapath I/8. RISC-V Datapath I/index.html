
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.3.1, mkdocs-material-8.5.3" name="generator"/>
<title>9. RISC-V Datapath I - madharmawan</title>
<link href="../../../../assets/stylesheets/main.7a952b86.min.css" rel="stylesheet"/>
<link href="../../../../assets/stylesheets/palette.cbb835fc.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="green" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#9-risc-v-datapath-i">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="madharmawan" class="md-header__button md-logo" data-md-component="logo" href="../../../.." title="madharmawan">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            madharmawan
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              9. RISC-V Datapath I
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="green" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="blue" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="green" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="madharmawan" class="md-nav__button md-logo" data-md-component="logo" href="../../../.." title="madharmawan">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    madharmawan
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../..">
        Welcome
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../mastertoc/">
        Table of Contents
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          EECS
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="EECS" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          EECS
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../toc%20EECS/">
        Table of Contents
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2">
          CS 161
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="CS 161" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
          CS 161
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20161/toc%20CS161/">
        Table of Contents CS 161
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_2" id="__nav_3_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2_2">
          Cryptography
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Cryptography" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_2_2">
<span class="md-nav__icon md-icon"></span>
          Cryptography
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20161/Cryptography/5.%20Introduction%20to%20Cryptography/">
        5. Introduction to Cryptography
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20161/Cryptography/6.%20Symmetric-Key%20Encryption/">
        6. Symmetric-Key Encryption
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20161/Cryptography/7.%20Cryptographic%20Hashes/">
        7. Cryptographic Hashes
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_3" id="__nav_3_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2_3">
          Memory Safety
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Memory Safety" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_2_3">
<span class="md-nav__icon md-icon"></span>
          Memory Safety
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20161/Memory%20Safety/2.%20x86%20Assembly%20and%20Call%20Stack/">
        2. x86 Assembly and Call Stack
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20161/Memory%20Safety/3.%20Memory%20Safety%20Vulnerabilities/">
        3. Memory Safety Vulnerabilities
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20161/Memory%20Safety/4.%20Mitigating%20Memory-Safety%20Vulnerabilities/">
        4. Mitigating Memory-Safety Vulnerabilities
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_4" id="__nav_3_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2_4">
          Security Principles
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Security Principles" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_2_4">
<span class="md-nav__icon md-icon"></span>
          Security Principles
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20161/Security%20Principles/1.%20Security%20Principles/">
        1. Security Principles
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" id="__nav_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3">
          CS 168
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="CS 168" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
          CS 168
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/toc%20CS168/">
        Table of Contents CS 168
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_2" id="__nav_3_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_2">
          0. Introduction to CS 168
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="0. Introduction to CS 168" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_2">
<span class="md-nav__icon md-icon"></span>
          0. Introduction to CS 168
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/0.%20Introduction%20to%20CS%20168/0.%20Introduction%20to%20CS%20168/">
        0. Introduction
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_3" id="__nav_3_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3">
          1. Overview of Computer Networks and the Internet
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="1. Overview of Computer Networks and the Internet" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_3">
<span class="md-nav__icon md-icon"></span>
          1. Overview of Computer Networks and the Internet
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/1.%20Overview%20of%20Computer%20Networks%20and%20the%20Internet/1.%20Computer%20Networks%20and%20the%20Internet/">
        1. Computer Networks and the Internet
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_4" id="__nav_3_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_4">
          2. Application Layer
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="2. Application Layer" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_4">
<span class="md-nav__icon md-icon"></span>
          2. Application Layer
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/2.%20Application%20Layer/2.%20Application%20Layer/">
        2. Application Layer
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/2.%20Application%20Layer/2.0%20Key%20Terms/">
        2.0 Key Terms
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/2.%20Application%20Layer/2.1%20Principles%20of%20Network%20Applications/">
        2.1 Principles of Network Appications
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/2.%20Application%20Layer/2.2%20The%20Web%20and%20HTTP/">
        2.2 The Web and HTTP
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/2.%20Application%20Layer/2.3%20Electronic%20Mail%20in%20the%20Internet/">
        2.3 Electronic Mail in the Internet
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/2.%20Application%20Layer/2.4%20DNS%20-%20The%20Internet%27s%20Directory%20Service/">
        2.4 DNS - The Internet's Directory Service
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/2.%20Application%20Layer/2.5%20Peer-to-Peer%20File%20Distribution/">
        2.5 Peer-to-Peer File Distribution
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_5" id="__nav_3_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_5">
          Lectures
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Lectures" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_5">
<span class="md-nav__icon md-icon"></span>
          Lectures
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_5_1" id="__nav_3_3_5_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_5_1">
          Introduction
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Introduction" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_5_1">
<span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/Lectures/Introduction/2.%20How%20the%20Internet%20Works%20-%20A%20Bottom-Up%20View/">
        2. How the Internet Works - A Bottom-Up View
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/Lectures/Introduction/3.%20Architectural%20Principles/">
        3. Architectural Principles
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/Lectures/Introduction/4.%20Designing%20the%20Internet/">
        4. Designing the Internet
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_5_2" id="__nav_3_3_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_5_2">
          Routing
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Routing" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_5_2">
<span class="md-nav__icon md-icon"></span>
          Routing
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/Lectures/Routing/5.%20Routing%20Fundamentals/">
        5. Routing Fundamentals
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/Lectures/Routing/6.%20Routing%20Approaches%20I/">
        6. Routing Approaches I
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%20168/Lectures/Routing/7.%20Routing%20Approaches%20II/">
        7. Routing Approaches II
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" id="__nav_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4">
          CS 61A
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="CS 61A" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
          CS 61A
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061A/0.%20Introduction%20to%20CS%2061A/">
        0. Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061A/1.%20Python%20Interpreter/">
        1. Python Interpreter
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061A/1.1%20Expressions%20in%20the%20Terminal/">
        1.1 Expressions in the Terminal
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061A/1.2%20Evaluation%20Procedure/">
        1.2 Evaluation Procedure
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061A/2.%20Expressions%2C%20Variables%2C%20and%20Functions/">
        2. Expressions, Variables, and Functions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061A/2.1%20Expressions%20and%20Variables/">
        2.1 Expressions and Variables
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061A/2.2%20Defining%20and%20Using%20Functions/">
        2.2 Defining and Using Functions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061A/3.%20Control/">
        3. Control
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061A/3.1%20If%2C%20Elif%2C%20Else%20Clauses/">
        3.1 If, Elif, Else Clauses
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061A/4.%20Higher-Order%20Functions%20I/">
        4. Higher Order Functions I
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061A/4.1%20Functions%20as%20Parameters%2C%20Functions%20as%20Returns/">
        4.1 Functions as Parameters, Functions as Returns
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061A/toc%20CS61A/">
        Table of Contents
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" id="__nav_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5">
          CS 61B
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="CS 61B" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
          CS 61B
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061B/toc%20CS61B/">
        Table of Contents
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6" id="__nav_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6">
          CS 61C
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="CS 61C" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
          CS 61C
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/toc%20CS61C/">
        Table of Contents
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_2" id="__nav_3_6_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_2">
          0. Introduction to CS 61C
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="0. Introduction to CS 61C" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_2">
<span class="md-nav__icon md-icon"></span>
          0. Introduction to CS 61C
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/0.%20Introduction%20to%20CS%2061C/0.%20Introduction%20to%20CS%2061C/">
        0. Introduction
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_3" id="__nav_3_6_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_3">
          1. Number Representation
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="1. Number Representation" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_3">
<span class="md-nav__icon md-icon"></span>
          1. Number Representation
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/1.%20Number%20Representation/1.%20Number%20Representation/">
        1. Number Representation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/1.%20Number%20Representation/1.1%20Decmial%2C%20Binary%2C%20and%20Hexadecimal%20Number%20Systems/">
        1.1 Decimal, Binary, and Hexadecmial Number Systems
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/1.%20Number%20Representation/1.2%20Signed%20Representations/">
        1.2 Signed Representations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/1.%20Number%20Representation/1.3%20Floating%20Point%20Representation/">
        1.3 Floating Point Representation
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_4" id="__nav_3_6_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_4">
          10. Synchronous Digital Systems (SDS)
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="10. Synchronous Digital Systems (SDS)" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_4">
<span class="md-nav__icon md-icon"></span>
          10. Synchronous Digital Systems (SDS)
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/10.%20Synchronous%20Digital%20Systems%20%28SDS%29/10.%20Synchonous%20Digital%20Systems%20%28SDS%29/">
        10. Synchonous Digital Systems (SDS)
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_5" id="__nav_3_6_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_5">
          11. Finite State Machines (FSMs)
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="11. Finite State Machines (FSMs)" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_5">
<span class="md-nav__icon md-icon"></span>
          11. Finite State Machines (FSMs)
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/11.%20Finite%20State%20Machines%20%28FSMs%29/11.%20Finite%20State%20Machines/">
        11. Finite State Machines
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_6" id="__nav_3_6_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_6">
          12. RISC V Datapath and Control Logic
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="12. RISC V Datapath and Control Logic" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_6">
<span class="md-nav__icon md-icon"></span>
          12. RISC V Datapath and Control Logic
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/12.%20RISC-V%20Datapath%20and%20Control%20Logic/12.%20RISC-V%20Datapath%20and%20Control%20Logic/">
        12. RISC V Datapath and Control Logic
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_7" id="__nav_3_6_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_7">
          13. Datapath Performance and Pipelining
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="13. Datapath Performance and Pipelining" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_7">
<span class="md-nav__icon md-icon"></span>
          13. Datapath Performance and Pipelining
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/13.%20Datapath%20Performance%20and%20Pipelining/13.%20Datapath%20Performance%20and%20Pipelining/">
        13. Datapath Performance and Pipelining
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_8" id="__nav_3_6_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_8">
          14. Operating Systems
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="14. Operating Systems" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_8">
<span class="md-nav__icon md-icon"></span>
          14. Operating Systems
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/14.%20Operating%20Systems/14.%20Operating%20Systems%20%28OS%29/">
        14. Operating Systems (OS)
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_9" id="__nav_3_6_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_9">
          15. Data and Thread Level Parallelism
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="15. Data and Thread Level Parallelism" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_9">
<span class="md-nav__icon md-icon"></span>
          15. Data and Thread Level Parallelism
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/15.%20Data%20and%20Thread%20Level%20Parallelism/15.%20Data%20and%20Thread%20Level%20Parallelism/">
        15. Data and Thread Level Parallelism
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_10" id="__nav_3_6_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_10">
          16. Caches
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="16. Caches" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_10">
<span class="md-nav__icon md-icon"></span>
          16. Caches
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/16.%20Caches/16.%20Caches/">
        16. Caches
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_11" id="__nav_3_6_11" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_11">
          17. Cache Coherency
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="17. Cache Coherency" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_11">
<span class="md-nav__icon md-icon"></span>
          17. Cache Coherency
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/17.%20Cache%20Coherency/17.%20Cache%20Coherency/">
        17. Cache Coherency
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_12" id="__nav_3_6_12" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_12">
          18. Virtual Memory
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="18. Virtual Memory" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_12">
<span class="md-nav__icon md-icon"></span>
          18. Virtual Memory
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/18.%20Virtual%20Memory/18.%20Virtual%20Memory/">
        18. Virtual Memory
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_13" id="__nav_3_6_13" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_13">
          19. Dependability
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="19. Dependability" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_13">
<span class="md-nav__icon md-icon"></span>
          19. Dependability
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/19.%20Dependability/19.%20Dependability/">
        19. Dependability
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_14" id="__nav_3_6_14" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_14">
          2. C Programming
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="2. C Programming" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_14">
<span class="md-nav__icon md-icon"></span>
          2. C Programming
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/2.%20C%20Programming/2.%20C%20Programming/">
        2. C Programming
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/2.%20C%20Programming/2.1%20C%20Similarity%20to%20Java%20Syntax/">
        2.1 C Similarity to Java Syntax
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/2.%20C%20Programming/2.2%20Memory%20Allocation/">
        2.2 Memory Allocation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/2.%20C%20Programming/2.3%20Pointers%20and%20Arrays/">
        2.4 Pointers and Arrays
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/2.%20C%20Programming/2.4%20Stack%2C%20Heap%2C%20Static%2C%20Code/">
        2.2 Stack, Heap, Static, Code
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_15" id="__nav_3_6_15" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_15">
          3. Memory
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="3. Memory" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_15">
<span class="md-nav__icon md-icon"></span>
          3. Memory
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/3.%20Memory/3.%20Memory/">
        3. Memory
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/3.%20Memory/3.1%20Sizes%20of%20Types%2C%20Casting/">
        3.1 Sizes of Types, Casting
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/3.%20Memory/3.2%20Memory%20Alignment/">
        3.2 Memory Alignment
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/3.%20Memory/3.3%20Endianness/">
        3.3 Endianness
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_16" id="__nav_3_6_16" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_16">
          4. More C Programming
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="4. More C Programming" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_16">
<span class="md-nav__icon md-icon"></span>
          4. More C Programming
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/4.%20More%20C%20Programming/4.%20More%20C%20Programming/">
        4. More C Programming
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/4.%20More%20C%20Programming/4.1%20Higher-Order%20Functions%20in%20C/">
        4.1 Higher Order Functions in C
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/4.%20More%20C%20Programming/4.2%20Structs%20and%20Unions/">
        4.2 Structs and Unions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/4.%20More%20C%20Programming/4.3%20Defines/">
        4.3 Defines
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/4.%20More%20C%20Programming/4.4%20Programming%20in%20C/">
        4.4 Programming in C
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_17" id="__nav_3_6_17" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_17">
          5. RISC V Programming
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5. RISC V Programming" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_17">
<span class="md-nav__icon md-icon"></span>
          5. RISC V Programming
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/5.%20RISC-V%20Programming/5.%20RISC-V%20Programming/">
        5. RISC-V Programming
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/5.%20RISC-V%20Programming/5.1%20RISC-V%20Registers/">
        5.1 RISC V Registers
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/5.%20RISC-V%20Programming/5.2%20Arithmetic%20and%20Bitwise%20Operators/">
        5.2 Arithmetic and Bitwise Operators
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/5.%20RISC-V%20Programming/5.3%20Branching/">
        5.3 Branching
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/5.%20RISC-V%20Programming/5.4%20Loads%20and%20Stores/">
        5.4 Loads and Stores
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/5.%20RISC-V%20Programming/5.5%20Other%20RISC-V%20Instructions/">
        5.5 Other RISC V Instructions
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_18" id="__nav_3_6_18" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_18">
          6. RISC V Calling Convention
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="6. RISC V Calling Convention" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_18">
<span class="md-nav__icon md-icon"></span>
          6. RISC V Calling Convention
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/6.%20RISC-V%20Calling%20Convention/6.%20RISC-V%20Calling%20Convention/">
        6. RISC-V Calling Convention
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/6.%20RISC-V%20Calling%20Convention/6.1%20RISC-V%20Register%20Names/">
        6.1 RISC V Register Names
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/6.%20RISC-V%20Calling%20Convention/6.2%20The%20Stack%20Pointer%2C%20Callee%2C%20Caller%20Conventions/">
        6.2 The Stack Pointer, Callee, Caller Conventions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/6.%20RISC-V%20Calling%20Convention/6.3%20An%20Example%20RISC-V%20Code%20with%20Calling%20Convention/">
        6.3 An Example RISC V Code with Calling Convention
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/6.%20RISC-V%20Calling%20Convention/6.4%20Recursive%20Functions%20in%20RISC-V/">
        6.4 Recursive Functions in RISC V
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_19" id="__nav_3_6_19" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_19">
          7. RISC V Instruction Formats
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="7. RISC V Instruction Formats" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_19">
<span class="md-nav__icon md-icon"></span>
          7. RISC V Instruction Formats
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/7.%20RISC-V%20Instruction%20Formats/7.%20RISC-V%20Instruction%20Formats/">
        7. RISC-V Instruction Formats
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/7.%20RISC-V%20Instruction%20Formats/7.5%20Self-Modifying%20Code/">
        7.5 Self-Modifying Code
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_20" id="__nav_3_6_20" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_20">
          8. Compiler, Assembler, Linker, Loader (CALL)
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="8. Compiler, Assembler, Linker, Loader (CALL)" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_20">
<span class="md-nav__icon md-icon"></span>
          8. Compiler, Assembler, Linker, Loader (CALL)
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/8.%20Compiler%2C%20Assembler%2C%20Linker%2C%20Loader%20%28CALL%29/8.%20Compiler%2C%20Assembler%2C%20Linker%2C%20Loader%20%28CALL%29/">
        8. Compiler, Assembler, Linker, Loader (CALL)
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_21" id="__nav_3_6_21" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_21">
          9. Combinatorial Logic, Boolean Algebra
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="9. Combinatorial Logic, Boolean Algebra" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_21">
<span class="md-nav__icon md-icon"></span>
          9. Combinatorial Logic, Boolean Algebra
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CS%2061C/9.%20Combinatorial%20Logic%2C%20Boolean%20Algebra/9.%20Combinatorial%20Logic%2C%20Boolean%20Algebra/">
        9. Combinatorial Logic, Boolean Algebra
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7" id="__nav_3_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7">
          EECS 151
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="EECS 151" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_7">
<span class="md-nav__icon md-icon"></span>
          EECS 151
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../toc%20EECS151/">
        Table of Contents
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_2" id="__nav_3_7_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7_2">
          1. Introduction
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="1. Introduction" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_7_2">
<span class="md-nav__icon md-icon"></span>
          1. Introduction
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../1.%20Introduction/1.%20Introduction%20to%20EECS%20151/">
        1. Introduction to EECS 151
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_3" id="__nav_3_7_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7_3">
          2. Design Abstraction
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="2. Design Abstraction" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_7_3">
<span class="md-nav__icon md-icon"></span>
          2. Design Abstraction
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../2.%20Design%20Abstraction/2.%20Design%20Abstraction/">
        2. Design Abstraction
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_4" id="__nav_3_7_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7_4">
          3. Metrics and Verilog
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="3. Metrics and Verilog" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_7_4">
<span class="md-nav__icon md-icon"></span>
          3. Metrics and Verilog
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../3.%20Metrics%20and%20Verilog/3.%20Metrics%20and%20Verilog/">
        3. Metrics and Verilog
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_5" id="__nav_3_7_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7_5">
          4. Verilog II
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="4. Verilog II" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_7_5">
<span class="md-nav__icon md-icon"></span>
          4. Verilog II
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../4.%20Verilog%20II/4.%20Verilog%20II/">
        4. Verilog II
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_6" id="__nav_3_7_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7_6">
          5. Combinational Logic I
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5. Combinational Logic I" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_7_6">
<span class="md-nav__icon md-icon"></span>
          5. Combinational Logic I
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../5.%20Combinational%20Logic%20I/5.%20Combinational%20Logic%20I/">
        5. Combinational Logic
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_7" id="__nav_3_7_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7_7">
          6. Combinational Logic II
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="6. Combinational Logic II" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_7_7">
<span class="md-nav__icon md-icon"></span>
          6. Combinational Logic II
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../6.%20Combinational%20Logic%20II/6.%20Combinational%20Logic%20II/">
        6. Combinational Logic II and FSM I
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_8" id="__nav_3_7_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7_8">
          7. Finite State Machines
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="7. Finite State Machines" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_7_8">
<span class="md-nav__icon md-icon"></span>
          7. Finite State Machines
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../7.%20Finite%20State%20Machines/7.%20Finite%20State%20Machines/">
        7. Finite State Machines
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_9" id="__nav_3_7_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7_9">
          8. RISC V Datapath I
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="8. RISC V Datapath I" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_7_9">
<span class="md-nav__icon md-icon"></span>
          8. RISC V Datapath I
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          9. RISC-V Datapath I
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        9. RISC-V Datapath I
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#stages-of-datapath">
    Stages of Datapath
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#state-and-sequencing">
    State and Sequencing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#risc-v-datapath-control">
    RISC-V Datapath &amp; Control
  </a>
<nav aria-label="RISC-V Datapath &amp; Control" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#r-format-instruction-layout">
    R-Format Instruction Layout
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#i-format-instruction-layout">
    I-Format Instruction Layout
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#s-format-instruction-layout">
    S-Format Instruction Layout
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#b-format-instruction-layout">
    B-Format Instruction Layout
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#j-format-instruction-layout">
    J-Format Instruction Layout
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#u-format-instruction-layout">
    U-Format Instruction Layout
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#complete-rv32i">
    Complete RV32I
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#summary">
    Summary
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_10" id="__nav_3_7_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7_10">
          9. RISC V Datapath II
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="9. RISC V Datapath II" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_7_10">
<span class="md-nav__icon md-icon"></span>
          9. RISC V Datapath II
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../9.%20RISC-V%20Datapath%20II/9.%20RISC-V%20Datapath%20II/">
        9. RISC-V Datapath II
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_11" id="__nav_3_7_11" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7_11">
          A. .Verilog
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="A. .Verilog" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_7_11">
<span class="md-nav__icon md-icon"></span>
          A. .Verilog
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../A.%20.Verilog/A.%20Verilog/">
        A. Verilog
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_8" id="__nav_3_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_8">
          EECS 16A
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="EECS 16A" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_8">
<span class="md-nav__icon md-icon"></span>
          EECS 16A
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../EECS%2016A/0.%20Introduction%20to%20EECS%2016A/">
        0. Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../EECS%2016A/toc%20EECS%2016A/">
        Table of Contents
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
          Physics
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Physics" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Physics
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../Physics/toc%20Physics/">
        Table of Contents
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2">
          Physics 137A
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Physics 137A" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
          Physics 137A
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../Physics/Physics%20137A/1.%20Blackbody%20Radiation/">
        1. Origins of Quantum Theory; UV Catastrophe
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../Physics/Physics%20137A/2.%20Bohr%20Model/">
        2. Bohr Model
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../Physics/Physics%20137A/3.%20Wavefunctions/">
        3. Wavefunctions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../Physics/Physics%20137A/4.%20Fourier%20Stuff/">
        4. Fourier Stuff
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../Physics/Physics%20137A/toc%20Physics%20137A/">
        Table of Contents Physics 137A
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#stages-of-datapath">
    Stages of Datapath
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#state-and-sequencing">
    State and Sequencing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#risc-v-datapath-control">
    RISC-V Datapath &amp; Control
  </a>
<nav aria-label="RISC-V Datapath &amp; Control" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#r-format-instruction-layout">
    R-Format Instruction Layout
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#i-format-instruction-layout">
    I-Format Instruction Layout
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#s-format-instruction-layout">
    S-Format Instruction Layout
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#b-format-instruction-layout">
    B-Format Instruction Layout
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#j-format-instruction-layout">
    J-Format Instruction Layout
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#u-format-instruction-layout">
    U-Format Instruction Layout
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#complete-rv32i">
    Complete RV32I
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#summary">
    Summary
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="9-risc-v-datapath-i">9. RISC-V Datapath I<a class="headerlink" href="#9-risc-v-datapath-i" title="Permanent link">¶</a></h1>
<h2 id="stages-of-datapath">Stages of Datapath<a class="headerlink" href="#stages-of-datapath" title="Permanent link">¶</a></h2>
<p>A single CL block that executes an instruction is too bulky and inefficient. The solution is to break up the process of executing an instruction into stages, and then connect the stages to create the whole datapath. There are 5 stages of the datapath:
1. Instruction Fetch (IF)
2. Instruction Decode (ID)
3. Execute (EX)
4. Memory Access (MEM)
5. Write Back to Register (WB)</p>
<h2 id="state-and-sequencing">State and Sequencing<a class="headerlink" href="#state-and-sequencing" title="Permanent link">¶</a></h2>
<p>Memory: One input bus: data in. One output bus: data out</p>
<ol>
<li>
<p>Memory word is found by:</p>
</li>
<li>
<p>Read: address selects the word to put on data out</p>
</li>
<li>
<p>Write: set write enable = 1. Address selects the memory word to be written via the data in bus</p>
</li>
<li>
<p>Clock</p>
</li>
<li>
<p>Only a factor during write operation</p>
</li>
<li>
<p>During read operation, behaves as a combinational logic block: address valid --&gt; data out valid after "access time"</p>
</li>
</ol>
<h2 id="risc-v-datapath-control">RISC-V Datapath &amp; Control<a class="headerlink" href="#risc-v-datapath-control" title="Permanent link">¶</a></h2>
<p>Every instruction is 32-bits divided into fields of varying numbers each. </p>
<ul>
<li>
<p>opcode: specifies what instruction it is</p>
</li>
<li>
<p>May have funct7 &amp; funct3: fields describe what operation to perform. </p>
</li>
</ul>
<h3 id="r-format-instruction-layout">R-Format Instruction Layout<a class="headerlink" href="#r-format-instruction-layout" title="Permanent link">¶</a></h3>
<p><img alt="8.1 rtype.png" src="../8.1%20rtype.png"/></p>
<ul>
<li>rs1, rs2, rd: three registers that can be expressed in 5 bits. The instruction will operate on <code>rs1</code>, <code>rs2</code> and store its result in <code>rd</code>. </li>
</ul>
<p>$$ \text{<instr> rd, rs1, rs2} $$
R-type instructions usually makes two changes to machine's state. 
1. Modify the <code>rd</code> register with the inputs <code>rs1</code>, <code>rs2</code>. Done in the ALU.
2. <code>PC = PC + 4</code>. </instr></p>
<p><img alt="8.2 dataadd.png" src="../8.2%20dataadd.png"/></p>
<p>Here is also a timing diagram for <code>add</code>. </p>
<p><img alt="8.3 timeadd.png" src="../8.3%20timeadd.png"/></p>
<ul>
<li>
<p>Increment the <code>PC</code> to get ready for next instruction asynchronously</p>
</li>
<li>
<p>Read the instruction asynchronously</p>
</li>
<li>
<p>We read the registers asynchronously</p>
</li>
<li>
<p>Then it goes into ALU and after some combinational delay it is ready</p>
</li>
<li>
<p>Now perform the write operation, which is a synchronous write. See how <code>reg[1]</code> matches the rising edge of <code>clk</code>. </p>
</li>
</ul>
<p>Here are some more R-Type instructions</p>
<p><img alt="8.4 otherrtype.png" src="../8.4%20otherrtype.png"/></p>
<ul>
<li>Notice how decoding the <code>funct3</code> and <code>funct7</code> fields tell us which ALU function we want. </li>
</ul>
<h3 id="i-format-instruction-layout">I-Format Instruction Layout<a class="headerlink" href="#i-format-instruction-layout" title="Permanent link">¶</a></h3>
<p>Only one field is different from R-format, <code>rs2</code> and <code>func7</code> replaced by a 12-bit signed immediate, <code>imm[11:0]</code>. </p>
<p><img alt="8.5 itype.png" src="../8.5%20itype.png"/></p>
<p>Here are the I-format instructions</p>
<p><img alt="8.6 itypeinstr.png" src="../8.6%20itypeinstr.png"/></p>
<ul>
<li>
<p>Not operation is not in the ISA, but <code>xori</code> can do this. <code>xori rd, rs1, -1</code>. </p>
</li>
<li>
<p>The shift operations. They only use the lower 5 bits of the immediate value for shift amount (because 5 bits can already shift out the 0-31 bits positions)</p>
</li>
<li>
<p>The same <code>Inst[30]</code> immediate bit is used to distinguish "shift right logical" from "shift right arithmetic"</p>
</li>
</ul>
<p>An <code>addi</code> instruction datapath might look like</p>
<p><img alt="8.7 addidata.png" src="../8.7%20addidata.png"/></p>
<p>This also supports R-type instructions. Just alter the image so that the ALUSel can pick out all the operations as needed. </p>
<p>Load instructions are also I-type. </p>
<p><img alt="8.8 loadinstr.png" src="../8.8%20loadinstr.png"/></p>
<p>Its form is generally <code>Reg[rd] = Mem[Reg[rs1] + offset]</code></p>
<ul>
<li>
<p>The 12-bit signed immediate is added to the base address in register <code>rs1</code> to form the memory address</p>
</li>
<li>
<p>The value loaded from memory is stored in register <code>rd</code>. </p>
</li>
</ul>
<p>In our DMEM block we need to add some datapath to support <code>lw</code>. </p>
<p><img alt="8.9 lwdata.png" src="../8.9%20lwdata.png"/></p>
<ul>
<li>See that there is a WBSel control logic that will perform memory operations that support <code>lw</code>. </li>
</ul>
<p>There are also other load instructions</p>
<p><img alt="8.10 loadinstrs.png" src="../8.10%20loadinstrs.png"/></p>
<ul>
<li>
<p><code>lbu</code>: load unsigned byte; <code>lh</code>: load halfword (word = 32 bits)</p>
</li>
<li>
<p>Supporting the narrower loads requires additional logic to extract the correct byte/halfword from the value loaded from memory, and sign or zero extend the result to 32 bits</p>
</li>
</ul>
<h3 id="s-format-instruction-layout">S-Format Instruction Layout<a class="headerlink" href="#s-format-instruction-layout" title="Permanent link">¶</a></h3>
<p><img alt="8.11 stype.png" src="../8.11%20stype.png"/></p>
<ul>
<li>
<p>General format <code>Mem[Reg[rs1] + offset] = Reg[rs2]</code></p>
</li>
<li>
<p>Store needs to read two registers, <code>rs1</code> for base memory address, and <code>rs2</code> for data to be stored, as well as immediate offset</p>
</li>
<li>
<p>Note stores don't write value to register file</p>
</li>
<li>
<p>Immediates broken into two parts</p>
</li>
<li>
<p>Can't have both <code>rs2</code> and immediate in same place as other instructions</p>
</li>
<li>
<p>RISC-V design decision is move low 5 bits of immediate to where <code>rd</code> field was in other instructions. We can then keep <code>rs1</code> and <code>rs2</code> in the same place. The register names are more critical than immediate bits in hardware design</p>
</li>
</ul>
<p>To store in in our datapath, we have some place to create some store in our DMEM</p>
<p><img alt="8.12 storedata.png" src="../8.12%20storedata.png"/></p>
<p>Here are all the store instructions:</p>
<p><img alt="8.13 sinstrs.png" src="../8.13%20sinstrs.png"/></p>
<p>Note that both I and S type use some immediate. </p>
<p><img alt="8.14 immgenis.png" src="../8.14%20immgenis.png"/></p>
<ul>
<li>
<p>Just need a 5-bit mux to select between two positions where low five bits of immediate can reside in instruction</p>
</li>
<li>
<p>Other bits in immediate are wired to fixed positions in instruction. </p>
</li>
</ul>
<h3 id="b-format-instruction-layout">B-Format Instruction Layout<a class="headerlink" href="#b-format-instruction-layout" title="Permanent link">¶</a></h3>
<p><img alt="8.15 btype.png" src="../8.15%20btype.png"/></p>
<p><code>&lt;Branch Op&gt; rs1, rs2, label</code></p>
<ul>
<li>
<p>Branches read two registers but don't write a register. <code>PC</code> is being changed on branch. Now we need to represent labels and now instruction offsets.</p>
</li>
<li>
<p>B-format is similar to S-format, with two register sources and a 12-bit immediate</p>
</li>
<li>
<p>The 12 immediate bits encode 13-bit signed byte offsets. Notice how it is broken in to segments, but also they are not in order. It is to maintain consistency.</p>
</li>
<li>
<p>The immediate represents values <span class="arithmatex">\(\in\left[-2^{12}, 2^{12}\right]\)</span> in two byte increments See how the<code>imm[0]</code> is not represented -- it is always <code>0</code>. We can always ignore the LSb since every instruction is 4 bytes. We actually could skip the 2 LSb's, but we don't because there are 16-bit instructions. This is the compressed extension, where instructions are 16 bits. To support compressed formats, we need the <code>imm[1]</code>. </p>
</li>
<li>
<p>The immediate generator would look like this for each I, S, B instruction</p>
</li>
</ul>
<p><img alt="8.18 immgeneration.png" src="../8.18%20immgeneration.png"/></p>
<ul>
<li>To change this in our datapath, we need to tap into the PC counter and add some immediate to it. Running the branch instruction changes the state as follows:</li>
<li><code>PC = PC + 4</code> branch not taken</li>
<li><code>PC = PC + imm</code> branch taken</li>
</ul>
<p><img alt="8.16 bdata.png" src="../8.16%20bdata.png"/></p>
<ul>
<li>
<p>The branch comparator only outputs two things in the control logic. <span class="arithmatex">\(BrEq = 1\)</span> if <span class="arithmatex">\(A = B\)</span>, <span class="arithmatex">\(BrLT = 1\)</span> if <span class="arithmatex">\(A &lt; B\)</span></p>
</li>
<li>
<p>The input is either finding a signed or unsigned comparison, and <span class="arithmatex">\(BrUN = 1\)</span> if it is unsigned. </p>
</li>
<li>
<p>From this all branch instructions are possible, for example <code>A &gt;= B</code> is simply the result of <code>not (A &lt; B)</code>. </p>
</li>
<li>
<p><code>PCSel</code> will tell if the branch is taken or not taken, and then add the appropriate value (<code>4</code> or the <code>imm</code>).</p>
</li>
<li>
<p>There is also an input to the Immediate Generator to indicate how to generate the immediate correctly.</p>
</li>
<li>
<p>ALU really determines the target instruction.</p>
</li>
</ul>
<p><img alt="8.17 binstrs.png" src="../8.17%20binstrs.png"/></p>
<h3 id="j-format-instruction-layout">J-Format Instruction Layout<a class="headerlink" href="#j-format-instruction-layout" title="Permanent link">¶</a></h3>
<p>We don't do a comparison, we just jump there. </p>
<p>First, let's look at a kinda J-type instruction: <code>jalr</code></p>
<p><img alt="8.19 jtype.png" src="../8.19%20jtype.png"/></p>
<p>It is really an I-type instruction. </p>
<p><code>jalr rd, rs, imm</code></p>
<ul>
<li>
<p><code>R[rd] = PC + 4; RC = Reg[rs1] + imm</code>: writes <code>PC + 4</code> to <code>rd</code> and sets <code>PC = rs1 + imm</code>. </p>
</li>
<li>
<p>Uses same immediates as arithmetic and loads. No multiplication by 2 bytes, which is in contrast to branches and jal. </p>
</li>
</ul>
<p>Here is the addition of the datapath with <code>jalr</code></p>
<p><img alt="8.20 jalr.png" src="../8.20%20jalr.png"/></p>
<ul>
<li>Note how the WBSel control has to have another option to simply have a choice to add 4 to PC.</li>
</ul>
<p>Now here is a regular J-format instruction</p>
<p><img alt="8.21 jtypereal.png" src="../8.21%20jtypereal.png"/></p>
<p>For <code>jal</code> we apply the rule of</p>
<ul>
<li>
<p><code>R[rd] = PC + 4; PC = PC + imm</code></p>
</li>
<li>
<p>This saves <code>PC + 4</code> in register <code>rd</code></p>
</li>
<li>
<p>Then set <code>PC = PC + offset</code>. </p>
</li>
<li>
<p>The target is somewhere within <span class="arithmatex">\(\pm 2^{19}\)</span> locations, with 2 bytes apart (20 bit is sign). Immediate encoding is optimized similarly to branch instruction to reduce hardware cost. </p>
</li>
</ul>
<p>There is a <code>j</code> pseudo instruction, which uses <code>jal</code> but sets <code>rd = x0</code> to discard return address. </p>
<p>Here is datapath with <code>jal</code></p>
<p><img alt="8.22 jal.png" src="../8.22%20jal.png"/></p>
<ul>
<li>Notice the Immediate Generator must know how to create J immediates</li>
</ul>
<h3 id="u-format-instruction-layout">U-Format Instruction Layout<a class="headerlink" href="#u-format-instruction-layout" title="Permanent link">¶</a></h3>
<p><img alt="8.23 utype.png" src="../8.23%20utype.png"/></p>
<ul>
<li>
<p>The U-format has a 20-bit immediate in upper 20 bits of 32-bit instruction word. </p>
</li>
<li>
<p>There is one destination register</p>
</li>
<li>
<p>Used for two instructions:</p>
</li>
<li><code>lui</code>: load upper immediate: <code>reg[rd] = {imm, 12b'0}</code></li>
<li><code>auipc</code>: add upper immediate to <code>PC</code>: <code>reg[rd] = PC + {imm, 12'b0}</code></li>
</ul>
<p>To implement <code>lui</code> and <code>auipc</code> we can just adjust the ImmSel to indicate we want U immediates. </p>
<h2 id="complete-rv32i">Complete RV32I<a class="headerlink" href="#complete-rv32i" title="Permanent link">¶</a></h2>
<p>Datapath:</p>
<p><img alt="8.24 compriscv.png" src="../8.24%20compriscv.png"/></p>
<p>ISA:</p>
<p><img alt="8.25 isa.png" src="../8.25%20isa.png"/></p>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">¶</a></h2>
<p>Implementation of the base ISA for RV32I</p>
<p>Instruction types: R, I, S, B, J, U types. Here are the formats in a summary</p>
<p><img alt="8.26 allinstr.png" src="../8.26%20allinstr.png"/></p>
<p>Implementation is straightforward, but single-cycle is slow --&gt; pipeline it. </p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: 7. Finite State Machines" class="md-footer__link md-footer__link--prev" href="../../7.%20Finite%20State%20Machines/7.%20Finite%20State%20Machines/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              7. Finite State Machines
            </div>
</div>
</a>
<a aria-label="Next: 9. RISC-V Datapath II" class="md-footer__link md-footer__link--next" href="../../9.%20RISC-V%20Datapath%20II/9.%20RISC-V%20Datapath%20II/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              9. RISC-V Datapath II
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../../../../assets/javascripts/bundle.37e9125f.min.js"></script>
<script src="../../../../javascripts/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</body>
</html>